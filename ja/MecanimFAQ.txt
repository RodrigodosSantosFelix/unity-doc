! メカニムFAQ / Mecanim FAQ

!!全般的な質問

__旧アニメーション システムを使用してプレイヤーのアニメーションを行っています。新たにメカニムをすることが推奨でしょうか？__

メカニムは現在開発をしているアニメーション技術であり、継続的に改善します。旧アニメーションはそのままで変更していきません。メカニムで実現出来る機能および優れた内容についての詳細はここで確認して下さい:
[[http://unity3d.com/unity/mecanim/]]


__スクリプトを通してメカニム関数にアクセスするにはどうすれば良いでしょうか?__

メカニムの殆どの関数はスクリプトにより制御出来ますが、4.x の開発サイクルの中でAPI全体を公開していく予定です。

__ヒューマノイド キャラクターに新しいアニメーションを作成するにはどうすれば良いでしょうか？__

次で一覧にあがっている3Dアニメーション パッケージのどれでもアニメーションの作成が出来ます。 http://docs.unity3d.com/Documentation/Manual/HOWTO-importObject.html

__メカニムでアニメーション ステートのモーションを変更するにはどうすれば良いでしょうか？__

コントローラ スクリプト を記述して (あるいはデモのスクリプトを活用して) アニメーション再生を行うステートマシンと連係出来ます。次にいくつかの関連リンクを示します:


!!インポート

__インポートされたメッシュの全てに Animator が自動追加されるのはなぜですか？__

現在、インポートするデフォルト設定をセットする手段はありませんが、Import Settings を None とセットすることにより、 Animator コンポーネントは追加されません。これは複数ファイルを選択して同時に行うことが出来ます。


!!レイヤー

__レイヤーの順番は何かに影響しますか？__

はい。レイヤーは上から下まで順に評価されます。 Override とセットされたレイヤーは常に前の順番のレイヤーを上書きします（マスクがあれば、そのマスクにもとづきます）。

__ビルトインの設定でレイヤーの間でフェードをセットする方法はありますか？__

レイヤーのウェイトについて自動モードはありません。自身でフェードイン・フェードアウトを使用することがもっとも有効なアプローチです。*

__Base Layer のウェイトはつねに 1 とすべきでしょうか、あるいは別の同期したレイヤーが実行されているときは 0 にセットすべきでしょうか？__

Base Layer はつねに 1 となります。しかし Layer を *Override* にセットすることで Base Layer を完全に上書きできます。

__同期されたレイヤーが Base Layer で対応するステートと異なる長さ（Length）の場合はどうすれば良いですか？__

もしレイヤーが異なる長さの場合、同期していたレイヤーは非同期になります。


__コントローラから変数の値を名前がテキスト以外の形式で取得する方法はありますか？__

整数型を使用してステートおよびパラメータを識別することが出来ます。Animator::StringToHash を使用して整数型の識別子を取得して下さい。例えば:

runState = Animator.StringToHash("Base Layer.Run");
animator.SetBool (oneOffRun, false);


!!アバターおよびボディマスク

__どのボーンがボディマスクの一部とするか定義する方法はありますでしょうか。__

ボディマスクは Humanoid のリターゲティング ソルバーと密接に関連しているため、現在ではこれを実現する方法ありません。

__LeftFoot, RightFoot, LeftHand, RightHand 以外の AvatarIKGoals を作成する方法はありますか？__

これは今後のロードマップで対応予定です。


!! アニメーションカーブおよびイベント

__アニメーションイベントをメカニムに追加してもらえませんか？__

これはロードマップ上で優先度をあげて対応予定しています。イベントをシミュレートするのにアニメーションで追加のアニメーションカーブを使用することを推奨します。全く同じではありませんが多くのユーザがこの方法でうまくいっています。

__カーブつきのアニメーションはアニメーションなしの分とどのようにブレンド出来ますか？__

カーブつきのアニメーションと、カーブなしのアニメーションがある場合、Unity はカーブに接続されたパラメータのデフォルト値を使用してブレンドを行います。
パラメータのデフォルト値をセットすることが出来るので Curve パラメータのあるステートと、ないものとブレンドした場合、Curve の値とデフォルト値の間をブレンドします。
パラメータの値をセットするには LiveLink モードでないときに、Animator Tool ウィンドウの中で値をセットします。
