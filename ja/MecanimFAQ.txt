! メカニムFAQ / Mecanim FAQ

!!全般的な質問

__旧アニメーション システムを使用してプレイヤーのアニメーションを行っています。新たにメカニムをすることが推奨でしょうか？__

メカニムは現在開発をしているアニメーション技術であり、継続的に改善します。旧アニメーションはそのままで変更していきません。メカニムで実現出来る機能および優れた内容についての詳細はここで確認して下さい:
[[http://unity3d.com/unity/mecanim/]]

__スクリプトを通してメカニム関数にアクセスするにはどうすれば良いでしょうか?__

メカニムの殆どの関数はスクリプトにより制御出来ますが、4.x の開発サイクルの中でAPI全体を公開していく予定です。

__ヒューマノイド キャラクターに新しいアニメーションを作成するにはどうすれば良いでしょうか？__

次で一覧にあがっている3Dアニメーション パッケージのどれでもアニメーションの作成が出来ます。 http://docs.unity3d.com/Documentation/Manual/HOWTO-importObject.html

__メカニムでアニメーション ステートのモーションを変更するにはどうすれば良いでしょうか？__

コントローラ スクリプト を記述して (あるいはデモのスクリプトを活用して) アニメーション再生を行うステートマシンと連係出来ます。次にいくつかの関連リンクを示します:


!!個別の質問

__もしプレイヤー キャラクターのボーンに要素をアタッチした場合(武器など)、これにより、要素がたくさんある場合など、フレームレートの問題が発生することはありますか？__

追加したボーンにアニメーション再生がない場合であればコストは無視出来ます。そうでない場合は、ジェネリック モードにて、追加のボーンに比例してコスト増加を見込むべきです(例えばすでに30 個のボーンを保有するリグに15個のボーンを追加する場合50%だけ処理が延びます)。- ''ジェネリックおよびヒューマノイド モードどちらも追加のボーンがあることに留意して下さい。''

__コントローラから変数の値を名前がテキスト以外の形式で取得する方法はありますか？__

整数型を使用してステートおよびパラメータを識別することが出来ます。Animator::StringToHash を使用して整数型の識別子を取得して下さい。例えば:

runState = Animator.StringToHash("Base Layer.Run");
animator.SetBool (oneOffRun, false);

__メカニムつきのシーンの最適化はどうすれば良いですか?__

最適化出来る事項はたくさんあり、いくつかの便利なテクニックとしては:

アニメータにクエリをかけるときに文字列型でなくハッシュを使用する

小規模のAIレイヤーを実装してアニメータを制御する。そして OnStateChange, OnTransitionBegin など、シンプルなコールバックを提供するようにします。

'ステートタグ' を使用して自身のAI ステートマシンとメカニムのステートマシンをマッチング
イベントを再現する追加のカーブを使用する
アニメーションのマークアップするための追加のカーブを使用する(例えばMatchTargetに関しては: http://docs.unity3d.com/Documentation/Manual/TargetMatching.html )

__カーブつきのアニメーションはアニメーションなしの分とどのようにブレンド出来ますか？__

カーブつきのアニメーションと、カーブなしのアニメーションがある場合、Unity はカーブに接続はれたパラメータのデフォルト値を使用してブレンドを行います。
パラメータのデフォルト値をセットすることが出来るのでカーブパラメータのあるステートと、ないものとブレンドした場合、カーブ値とデフォルト値の間をブレンドします。
パラメータの値をセットするには LiveLinkに入ってない場合、Animator Tool ウィンドウの中で値をセットします。
