! ブレンドツリー

ゲーム アニメーションでの良くあるタスクは二つかそれ以上のモーション間でブレンドを行うことです。最も良く知られたケースはキャラクターの速度に基づいた歩行と走行アニメーションのブレンディングです。もうひとつの事例は走っているときに左右に体を傾けるようなケースです。

(:include AnimationTransitionsVersusBlendTrees:)

同様のモーションの事例は様々な歩行や走行のアニメーションで見られます。ブレンドが適切に動作するためにはクリップの動きは正規化された時間で同期して行われる必要があります。例えば、歩行および走行アニメーションは足が地面に着地する同じ正規化された時間に起きるように同期させることご出来る(例えば左足が0.0で着地、右足が0.5で着地など)。正規化された時間が使用されるため、クリップが異なる長さであるかは影響しない。

新規のブレンドツリーで作業するためには:
# ~~Animator Controller Window~~ 上の空いたスペースで右クリック
# 右クリックで表示されるコンテキストメニューから^^Create State > From New Blend Tree^^ を選択
# Blend Tree ダブルクリックして Blend Tree Graph に入ります。

これで Animator Window に ブレンドツリー全体のグラフを表示し、インスペクタでは現在選択されているノードおよびその直接の子ノードを表示します。

Attach:MecanimBlendTreeStateDiagramInitial.png Attach:MecanimBlendTreeStateDiagram.png
''Animator Window は ``Blend Tree`` 全体のグラフを表示します。その左にあるのはルートのブレンド ノードを持ったブレンドツリーがあり、子ノードとして3つのアニメーション クリップを保有しています。''

これにより、パラメータの変化に伴ってアニメーションがどのように組み合わされるかを表示します(スライダーをドラッグすると、ツリーのルートからの矢印が変化して、現在優位となっているアニメーションクリップを表示します)。

ブレンドツリー グラフの任意のノードを選択してインスペクタで表示することが可能です。もし選択されたノードがアニメーション クリップである場合は、インスペクタ上でらそのアニメーション クリップが表示されます。アニメーションごモデルからインポートされた場合、設定は読み取り専用となります。もしノードがブレンド ノードである場合、インスペクタ上でブレンド ノードが表示されます。

Attach:MecanimBlendTreeInitial.png
'' ~~Inspector~~ 上でモーションを追加する前のブレンド ノードを表示''

Blend Typeドロップダウンは、ひとつか二つのパラメータに基づいてブレンドすることが出来る複数の Blend Type からひとつを選択するのに使用します。全てのBlend Type および他のブレンドツリーのオプションの一覧および詳細については次のページを参照して下さい。

(:tocportion:)


([[MecanimAnimationSystem|メカニム入門]] に戻る)
