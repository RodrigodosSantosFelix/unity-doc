!オクルージョンエリア（Unity Proのみ）

オクルージョンカリングを適用するためには$$オクルージョンエリア$$を作成し移動オブジェクトが配置される場所となるようサイズを修正する必要があります（当然、移動するオブジェクトをStaticとすることはできません）オクルージョンエリアを作成するためには、空のゲームオブジェクトにオクルージョンエリア　コンポーネントを追加します。(メニューで^^Component->Rendering->Occlusion Area^^ を選択)

$$オクルージョンエリア$$を作成した後IsTargetVolumeチェックボックスをオンにして動くオブジェクトをオクルージョン（無視）します。

Attach:OcclusionCullingOcclusionArea.png\\
移動するオブジェクトのオクルージョンエリア　プロパティ

||PROPS
||``Size`` ||オクルージョンエリアのサイズを定義||
||``Center`` ||オクルージョンエリアの中心を設定します。デフォルトでは、（0,0,0）であり、ボックスの中央に位置しています。||
||``Is View Volume`` ||カメラを配置できる場所を定義します。オクルージョンエリア内にあるStaticオブジェクトをオクルージョンするときオンにします。||
||``Is Target Volume`` ||__移動するオブジェクトをオクルージョンしたいときに選択すること__||
||``Target Resolution`` ||エリア内でオクルージョンカリングの精度を決定します。これは、オクルージョンエリア内のセルのサイズに影響します。__注意：これはターゲットエリアのみに影響を与えます。__||
||>>>``Low`` ||処理時間は短くなるものの、精緻さは落ちます||
||>>>``Medium`` ||オクルージョンカリングと処理時間のバランスをとります||
||>>>``High`` ||オクルージョンカリングと処理時間のバランスをとります。||
||>>>``Very High`` ||High設定で精緻さが不十分な場合に使用しますが、処理時間がさらに長くなることに留意する必要があります||
||>>>``Extremely High`` ||動くオブジェクトでほぼ完全に精緻なオクルージョンカリングが求められる場合に限り使用してください。注意：大量の処理時間を浪費します。||


オクルージョンエリアを作成した後、箱をセルに分割する方法を確認する必要があります。オクルージョンエリアがどのように算出されたか確認するためにはEditを選択し、オクルージョンカリングプレビューパネル（ Occlusion Culling Preview Panel）でビュー（View）をトグルして選択して下さい。


Attach:OcclusionCullingEditView.png\\

!! 生成されたオクルージョンのテスト

オクルージョンをセットアップした後、オクルージョンカリングプレビューパネル（ Occlusion Culling Preview Panel）上でOcclusion Cullingをオンにして、メインカメラをシーンビューのなかで移動することでテストを行うことが出来ます。

Attach:OcclusionCullingVisualize.png\\
シーンビューのオクルージョンカリング（Occlusion Culling）モード


メインカメラを移動するのに合わせ（Playモードでない場合も）、オブジェクトが無効（disable）となることを確認出来ますオクルージョンデータでエラーが出ないことを確かめる必要があります。移動するのにあわせオブジェクトがビューに割り込んできたらエラーであると認識できますこの場合、エラーを修正するためにオプションとしては画面解像度を変更する（ターゲットボリュームを変更していた場合）か、オブジェクトを移動してエラーが出ないようにする方法があります。オクルージョンでデバッグをするためにはメインカメラを問題が発生しているポジションに移動してスポットでチェックを行うことが出来ます。



処理が完了するとビューエリアでカラフルなキューブを確認することが出来ます。青いキューブは$$ターゲットボリューム$$（Target Volume）のセル分割を意味しています。白いキューブは$$ビューボリューム$$（View Volume）のセル分割を意味しています。もしパラメータが正しく設定されていればいくつかのオブジェクトはレンダリングされません。その理由はカメラのビュー範囲（円錐状）の外にあるか、他のオブジェクトの配置により無視されているか、のいずれかになります。

オクルージョンが完了した後、シーン上で何もオクルージョンされない場合、オブジェクトをより小さなパーツに分解しそのオブジェクトがセルの中に納まるサイズに小分けします。