! 最適なパフォーマンスのためのキャラクター モデリング

最適なレンダリングスピードが出るキャラクター モデル の設計を行うテクニックを以下で示します。

!! スキン メッシュ レンダラはひとつ

各キャラクタで [[class-SkinnedMeshRenderer | スキン メッシュ レンダラ]] はひとつとすべきです。Unity は表示カリング および 境界ボリュームの更新をしようしてアニメーションを最適化し、これらの最適化はひとつの [[class-Animation | アニメーション コンポーネント]] および ひとつの スキン メッシュ レンダラ を使用した場合のみ有効化されます。モデルのレンダリング時間はふたつの スキン メッシュ をひとつの スキン メッシュ レンダラ の代わりに使用することでおおよそ 2 倍となる場合があり、複数のメッシュを使用する実用的なメリットがあることは稀です。


!! できるかぎりマテリアルを少なくする

各メッシュの [[class-Material | マテリアル]] の数をできるかぎり少なくするべきです。複数のマテリアルをキャラクターで使用する唯一の理由は異なった部分で異なったシェーダが必要である場合です（例えば眼の部分は特殊なシェーダ）。しかしキャラクターで二つか三つのマテリアルでほぼ全てのケースは問題ありません。


!! できるかぎりボーンを少なくする

典型的なデスクトップ ゲームのボーン階層は 15 個から 60 個の間のボーンを使用します。ボーンの数が少ないほど、パフォーマンスが良くなります。30 個ぐらいのボーンでデスクトップ プラットフォームでは非常に良い品質が得られ、モバイルプラットフォームでも比較的良い品質が得られます。理想的には、モバイルデバイスでは 30 個より少なく抑えて、デスクトップ ゲームでも 30 個を大きく超えないようにします。

!! ポリゴンのカウント数

ポリゴン数は必要な品質およびターゲットするプラットフォームに依存します。モバイルデバイスでは、メッシュあたり 300 から 1500 ポリゴンで良い結果が得られ、デスクトップ プラットフォームでは 理想的な範囲として 1500 から 4000 ぐらいです。あるときにゲームがたくさんのキャラクターがあるときメッシュあたりのポリゴン数を減らす必要があるかもしれません。例として、 Half Life 2 はキャラクターに 2500 - 5000 三角形数でした。現在 PS3 や XBox 360 の最高ランクゲームでは通常キャラクターに 5000 から 7000 三角形数です。


!! フォワード および インバース キネマティクスを分ける

アニメーションがインポートされるとき、モデルのインバース キネマティクス（IK）ノードはフォワード キネマティクス（FK）に焼き込みされ、結果としてUnity は IK ノードが全く必要ありません。しかしモデルに残ったままであるとアニメーションに影響しないにも関わらず CPU オーバーヘッドが生じます。好みに応じてUnityまたはモデリングツール、どちらでも冗長な IK ノードを削除することが出来ます。理想的には、IK および FK 階層はモデリングの際に別に保持して、必要なときに IK ノードを容易に削除できるようにすべきです。
