! アバターの設定

メカニムシステムにとって $$Avatar$$ が重要な側面であるため、モデルにとって適切に設定されることが重要です。このため [[Creating the Avatar|自動アバタ―作成]] が失敗しても成功しても、 ^^Configure Avatar^^ モードに入ってアバタ―が有効で適切にセットアップされていることを確認する必要があります。キャラクターのボーン構造がメカニムの事前定義されたボーン構造と一致して ''かつ'' モデルがTポーズになっている必要があります。

もし自動アバタ―作成が失敗した場合、 ''Configure'' ボタンの隣に「×」が表示されるのが確認できます。
Attach:MecanimAvatarInvalid.png

もし成功した場合、チェックのマークが表示されます。
Attach:MecanimAvatarApplied.png $$Avatar$$ 

ここで、成功は単に必要なボーンがすべてマッチングされたことを意味しますが、さらに良い結果のためには、必須ではないボーンもマッチングさせたうえでモデルを適切なTポーズにする必要があります

^^Configure ...^^ メニューに入ったとき、エディタはシーンを保存するように求めます。この理由は、 ^^Configure^^ モードでは、シーンビューは、シーンの他の部分を表示せずに、ボーン、マッスル、選択されたモデルのみのアニメーション情報、を表示します。

Attach:MecanimConfigureAvatarSaveDialog.png

シーンをセーブした後は、新規の ~~Avatar Configuration~~ インスペクタが、ボーンマッピングとともに表示されます。
Attach:MecanimAvatarMappingValid.png

インスペクタは、どのボーンが必須で、どれが必須でないかを表示します‐必須でないボーンは自動的に動作は補間されます。メカニムが適切なマッチングするためには、スケルトンは少なくとも必須のボーンが正しい位置にいる必要があります。アバタ―が探して一致するボーンを見つける可能性を高めるために、ボーンのネーミングは、体のパーツを反映したものにします（ "LeftArm" 、 "RightForearm"  でこの場合は十分です）。

もしモデルに適切なマッチングが「ない」場合は、メカニムに内部的に使用されるものと同様のプロセスを手動で行うことが出来ます:-

# ^^Sample Bind-pose^^ （モデルをモデリングしたポーズ、すなわち意味のある初期ポーズ、に近づけます。）
# ^^Automap^^ （初期ポーズからボーンマッピングを作成します。）
# ^^Enforce T-pose^^ （モデルを、メカニムアニメーションのデフォルトポーズである、Tポーズに近い形を強制します。）

Attach:MecanimPoseMenus.png

もし自動マッピング (^^Mapping->Automap^^) が完全または部分的に失敗する場合、 ~~Scene~~ または ~~Hierarchy~~ からドラッグしてボーンを割り当てることが出来ます。もしメカニムがボーンが一致したと判断した場合、 ~~Avatar Inspector~~ で緑色に表示され、そうでない場合は赤色で表示されます。

最後に、もしボーンの割り当てが正しい場合、しかしキャラクターの ''ポーズ'' が正しくない場合、 "Character not in T-Pose" が表示されます。 ^^Enforce T-Pose^^ 、または残ったボーンを回転してTポーズにすることで、この問題は解決できます。

Attach:MecanimMappingMenus.png

(:include class-HumanTemplate:)

([[Avatar Creation and Setup]] に戻る)

([[MecanimAnimationSystem|メカニム紹介]] に戻る)
