! UVのライトマッピング

Unityは、チャネルが現在ある場合、UV2をライトマッピングに使用します。それ以外の場合はプライマリのUVを使用します。

Unityはメッシュを展開してライトマップUVを生成します。 $$Mesh Import Settings$$ のUV設定のGenerate Lightmap UVs を使用するのみです。

Generate Lightmap UVsの上級者向けオプション:
||PROPS
||``Pack Margin`` ||隣接するパッチとの間のマージンであり、メッシュがピクセル単位で1024x1024のライトマップ全体を使用することを前提にしています。これにより大きな効果があることは：フィルタリングが可能となり、ライトマップはテクセルにより、パッチの境界付近の、ライティングの情報を保有します。ライトマップを提供するときのライトのブリーディングを回避するためには、パッチ間のマージンを確保すべきです。||
||``Hard Angle`` ||隣接する三角形の間の角度であり、このしきい値を超えると、それらの間のエッジがハードエッジとみなされシームが作成されます。180度に設定した場合、全てのエッジはスムーズであるとみなされます：これは生命体のモデルには便利です。デフォルト値は88度です：これは機械のモデルに便利です||
||``Angle Error`` ||最大で可能なUV角度とソースの物体の角度の偏差、を角度の単位で指定します。基本的に、UV空間の三角形が元の物体にどれだけ似ているかを制御します（値によって、より多くの三角形が似ているようになります）。通常は相当に低い値に設定してライトマップを適用するときに画像の乱れを回避します。デフォルトは 8% です。（この値は 0 から 100 の範囲）||
||``Area Error`` ||最大で可能なUVエリアとソースの物体のエリアとの偏差、をパーセントの単位で指定します。基本的に、相対的な三角形のエリアが保持されるかを制御します。通常はそれほど重要でなく、値を大きくすることでパッチを少なくすることを許容します。しかし歪みが、三角形が異なる解像度であるために、ライトマップ品質を壊さすことがないようにチェックはすべきです。デフォルトは 15% です。（値は 0 から100 の範囲）||



カスタムのUVをライトマッピングに使用する場合、ライトマッピングのための良いUVセットの条件は：
* [0,1]x[0,1] 空間の範囲にあること
* 重なる面がないこと
* 低い角度の歪みであること（UVとソースの物体の角度の偏差の間の）
* 低いエリアの歪みであること、すなわち、本当に大きいライトマップ解像度のあるエリアがほしいのでないかぎり、相対的な三角形のスケールがほとんど保持されること。
* 個々のパッチの間に十分なマージンを確保していること



上記で推奨したヒントの例としては：

!! 角度の歪み

これらのスクリーンショットは等しい解像度で、ただし異なるUVによって、作成されました。画像の乱れ、それから光の形がわずかに変化している様子を確認して下さい。ここでは4つしか三角形がありまｓんが、実際には、形の歪みはより醜くなります。
Attach:uv2_angle_distortion_bad.png Attach:uv2_angle_distortion_normal.png


!! エリアの歪み

2つのスポットライトに同じパラメータを与え、唯一の違いは、相対的な三角形のスケールが保持されなかったため、異なるライトマップ解像度のエリアを指していることのみとしています。
Attach:uv2_area_distortion_resolution.png Attach:uv2_area_distortion.png
