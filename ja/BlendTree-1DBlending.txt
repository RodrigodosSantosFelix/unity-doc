!1D ブレンディング / 1D Blending

~~Inspector~~ 上の ``Blend Node`` の最初のオプションは ``Blend Type`` です。このドロップダウンを使用して、ひとつか二つのパラメータに基づいてブレンドすることご出来る複数のブレンドタイプの中からひとつのブレンドタイプを選択します。1D ブレンディングはひとつのパラメータに基づいて子のモーションをブレンドします。

ブレンド タイプをセットした後に最初にやるべきことはこのブレンド ツリーを制御する [[AnimationParameters|アニメーション パラメータ]] を選択することです。この例ではパラメータは、''direction'' であり、-1.0 (左) および +1.0 (右) の間で変化し、0.0 の場合は左右どちらにも傾かずに、真っ直ぐ走ることを意味します。

次に個別のアニメーションを追加するには^^+ -> Add Motion Field^^  をクリックしてブレンドツリーにアニメーション クリップを追加します。それが終わった後は次のようになるはずです:

Attach:MecanimBlendTree1D.png
''3つのアニメーション クリップのついた1D ブレンドノード''

インスペクタの上部にあるダイアグラムでは、パラメータが最小値から最大値まで変化するにつれ、各々の子モーションへの影響がどうなるかを表示します。各々のモーションは小さな青いピラミッドの記号として表示され(最初および最後は半分だけ表示)、そしてその記号のどれかの上で左クリックしてマウスの左ボタンを押し続けると、その下に表示されているモーション リストの対応するモーションがハイライトされます。各々のピラミッドのピークはモーションが完全な影響力をもつ位置、すなわちアニメーションの重み付けの値が1となり、他方のアニメーションの重み付けは0です。この位置はモーションの $$threshold$$ (しきい値) とも呼ばれます。

Attach:MecanimBlendTreeParam.png
''Blend Node インスペクタの上部のダイアグラムはパラメータ値の変化に伴って子モーションの重み付けの変化を図示します。''

赤い垂直バーは  ``Parameter`` の値を表します。もし ~~Inspector~~ の下部のthe ~~Preview~~ で ^^Play^^ を押して、ダイアグラムの赤いバーを左右にドラッグするとパラメータの値が、各々のモーションのブレンディングをどう制御しているかが分かります。


!! パラメータの範囲

ブレンドパラメータの範囲は左右にある二つの数字として表示されます。いずれの数字も変更したい場合は、数字をクリックしてマウスを左右にドラッグすることで変更出来ます。値はモーション リストの最初と最後のモーションの Threshold (しきい値) に対応することに留意して下さい。


!! Threshold

モーションの Threshold (しきい値) を変更するには対応する青いピラミッドをクリックして左右にドラッグします。もし "Automate Thresholds" が有効でない場合、モーション リストにある モーション の Threshold の値を編集するために、 Threshold 列の数字フィールドに値を入力します。

モーション リスト の下には ''Automate Thresholds'' のチェックボックスがあります。これを有効にするとパラメータの値の範囲に渡って均等に複数の threshold (しきい値) を配置します。例えば、もし5つのクリップがあって、パラメータが -90 から +90 までの範囲に渡る場合、 thresholdは -90、 -45、 0、 +45、 +90 の順にセットされます。

^^Compute Thresholds^^ ドロップダウンにより threshold を、アニメーションクリップのルートモーションから取得させることで、好きな順番にセットすることが出来ます。選択することが可能であるデータは speed、velocity、x、y、および 角度またはラジアン単位の Angular Speed です。もし ^^parameter^^ がこれらのプロパティのひとつに対応する場合、 Compute Thresholds ドロップダウンを使用して threshold を計算できます。

||PROPS
||``Speed``               ||各々のモーションを speed （速度の大きさ）に応じて Threshold をセットします。||
||``Velocity X``          ||各々のモーションを velocity.xに応じて Threshold をセットします。||
||``Velocity Y``          ||各々のモーションを velocity.yに応じて Threshold をセットします。||
||``Velocity Z``          ||各々のモーションを velocity.zに応じて Threshold をセットします。||
||``Angular Speed (Rad)`` ||各々のモーションを ラジアン/毎秒単位の Angular Speed （角速度）に応じて Threshold をセットします。||
||``Angular Speed (Deg)`` ||各々のモーションを 角度/毎秒単位の Angular Speed （角速度）に応じて Threshold をセットします。||

例えば、1.5 単位/毎秒の歩行、2.3 単位/毎秒のジョギング、4.0 単位/毎秒の走行、で移動するアニメーションがあったとして、ドロップダウンメニューから ^^Speed^^ を選択することで 3 つのアニメーションに対するパラメータ範囲および Threshold を、この値に対してセットします。このため、もし Speed パラメータを 3.0 にセットした場合、ジョギングおよび走行アニメーションを、ややジョギングに重みを付けた形で、ブレンドします。

( [[class-BlendTree|ブレンドツリー]] に戻る)
