! Maya からのオブジェクトのインポート / Importing Objects From Maya

Unity はネイティブで Maya ファイルをインポートします。 始めるには、プロジェクトの Assets フォルダ内に__.mb__または__.ma__ファイルを置くだけです。
Unity に戻ると、シーンが自動的にインポートされ、プロジェクト ビューに表示されます。

Unity でモデルを確認するには、$$Project View$$ から $$Scene View$$ または $$Hierarchy View$$ にオブジェクトをドラッグするだけです。

!! Unity は現在、Maya から以下のものをインポートします。
# 位置、回転、スケールのあるすべてのノード。 回転軸および名前もインポートされます。
# 頂点色のあるメッシュ、法線および 2 つまでの UV セット
# テクスチャとディフューズ色のあるマテリアル。 メッシュごとの複数のマテリアル。
# アニメーション FK & IK
# ボーンベースのアニメーション

Unity は、ブレンドシェイプはインポートしません。 代わりに、ボーンベースのアニメーションを使用します。 Unity はインポート時に、自動的にポリゴン メッシュを三角化するため、Maya では手動でこの作業を行う必要はありません。

アニメーションキャラクターに IK を使用している場合、$$Project View$$ でインポートした .mb ファイルを選択し、$$Inspector$$ の $$Import Settings$$ ダイアログで「Bake IK & Simulation」を選択します。


!! 要件

Maya __.mb__ および __.ma__ ファイルをインポートするには、Unity を使用しているマシンに Maya をインストールして、.mb/.ma ファイルをインポートします。 Maya 8.0 以降がサポートされています。

->マシンに Maya をインストールせず、別のマシンから Maya ファイルをインポートしたい場合、Unity がネイティブにインポートできる  [Main.HOWTO-exportFBX|to fbx format]] をエクスポートできます。  最高の結果を得るには、->[[http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&id=15765120|2011.3]] をインストールしてください。 エクスポートするには、[[Main.HOWTO-exportFBX|HOWTO_exportFBX]] を参照してください。


->エクスポートされたら、Unity の プロジェクト フォルダに fbx ファイルを置いてください。 Unity は、自動的に fbx ファイルをインポートします。 [[Main.HOWTO-exportFBX|HOWTO_exportFBX]] で述べているように、インスペクタで FBX インポート設定をチェックします。

!!! インポート プロセスの裏 (詳細)

Unity は Maya ファイルをインポートする際、バックグラウンドで Maya を起動します。 Unity が Maya と通信し、.mb ファイルを Unity が読み込める形式へと変換します。 Unity に最初に Maya ファイルをインポートする際、Maya をコマンドラインプロセスで起動しますが、これには約 20 秒かかりますが、次のインポートは非常に高速で行われます。

!! トラブルシューティング

* シーンをシンプルにしたまま、Unity で必要なオブジェクトのみを含むファイルを試してみてください。
* メッシュで問題が生じた場合、パッチ、NURBS 面などをポリゴンに変換したかを確認します (Modify > Convert + also Mesh > Quadragulate/Triangulate)。Unity はポリゴンのみサポートしています。
* Maya で、まれにノード履歴が乱雑になることがありますが、その場合、モデルが正しくエクスポートできなくなることがあります。 そのような場合には、^^Edit->Delete by Type->Non-Deformer History^^ を選択することで、この問題をとても簡単に修復できます。
* Unity では、できる限り最新の FBX をサポートしています。もしモデルのインポートで問題が生じた場合、[[http://autodesk.com/fbx | Autodesk website]] から最新版のFBXエクスポーターがあるか確認するか、もしくはFBX 2012に戻してみてください。
* Maya でのアニメーション ベイキングは、ネイティブではなく、FBX を使って行われます。こうすることで、より複雑なアニメーションを適切に FBX　形式にベイクできます。 ドリブンキーを使用している場合、アニメーションを正しくベイクするには、対象物に少なくとも 1 つのキーが設定してあることを確認してください。
